#include "pickup.h"

using namespace Asthmaphobia::Features::Exploits;

Pickup::Pickup() : Feature("Pickup", "Pickup any interactable object (LOCAL ONLY)", FeatureCategory::Exploits)
{
}

void Pickup::OnMenu()
{
	ImGui::Checkbox("Enabled##pickup", &std::get<bool>(EnabledSetting->GetValue()));
	DrawHotkeyUI();
}

void Pickup::OnPhotonObjectInteract_Start(SDK::PhotonObjectInteract* photonObjectInteract, SDK::MethodInfo* methodInfo) const
{
	if (!std::get<bool>(EnabledSetting->GetValue()))
		return;

	photonObjectInteract->Fields.Field4 = true;
	photonObjectInteract->Fields.Field5 = true;
	photonObjectInteract->Fields.Field7 = true;
	photonObjectInteract->Fields.Field8 = true;
}
